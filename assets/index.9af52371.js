import{R as e,C as t,B as n,G as r,T as o,H as a,a as l,V as i,b as c,i as s,c as u,d,e as f}from"./vendor.eb2eb7ed.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let m,g=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});g.decode();let b=null;function h(){return null!==b&&b.buffer===m.memory.buffer||(b=new Uint8Array(m.memory.buffer)),b}function w(e,t){return g.decode(h().subarray(e,e+t))}const _=new Array(32).fill(void 0);_.push(void 0,null,!0,!1);let y=_.length;function p(e){y===_.length&&_.push(_.length+1);const t=y;return y=_[t],_[t]=e,t}function E(e){return _[e]}function v(e){const t=E(e);return function(e){e<36||(_[e]=y,y=e)}(e),t}let x=null;function A(){return null!==x&&x.buffer===m.memory.buffer||(x=new Uint32Array(m.memory.buffer)),x}let S=0;let k=32;function C(e,t){try{var n=function(e,t){const n=t(4*e.length);return A().set(e,n/4),S=e.length,n}(e,m.__wbindgen_malloc),r=S;m.run(n,r,function(e){if(1==k)throw new Error("out of js stack");return _[--k]=e,k}(t))}finally{_[k++]=void 0}}let R=new TextEncoder("utf-8");const I="function"==typeof R.encodeInto?function(e,t){return R.encodeInto(e,t)}:function(e,t){const n=R.encode(e);return t.set(n),{read:e.length,written:n.length}};function F(e,t,n){if(void 0===n){const n=R.encode(e),r=t(n.length);return h().subarray(r,r+n.length).set(n),S=n.length,r}let r=e.length,o=t(r);const a=h();let l=0;for(;l<r;l++){const t=e.charCodeAt(l);if(t>127)break;a[o+l]=t}if(l!==r){0!==l&&(e=e.slice(l)),o=n(o,r,r=l+3*e.length);const t=h().subarray(o+l,o+r);l+=I(e,t).written}return S=l,o}let W=null;function L(){return null!==W&&W.buffer===m.memory.buffer||(W=new Int32Array(m.memory.buffer)),W}function B(e){try{const c=m.__wbindgen_add_to_stack_pointer(-16);var t=F(e,m.__wbindgen_malloc,m.__wbindgen_realloc),n=S;m.sourceCodeGen(c,t,n);var r=L()[c/4+0],o=L()[c/4+1],a=(l=r,i=o,A().subarray(l/4,l/4+i)).slice();return m.__wbindgen_free(r,4*o),a}finally{m.__wbindgen_add_to_stack_pointer(16)}var l,i}function T(e,t){try{return e.apply(this,t)}catch(n){m.__wbindgen_exn_store(p(n))}}async function M(e){void 0===e&&(e=new URL("/koala/assets/koala_wasm_bg.63eabb86.wasm",window.location));const t={wbg:{}};t.wbg.__wbindgen_string_new=function(e,t){return p(w(e,t))},t.wbg.__wbindgen_object_drop_ref=function(e){v(e)},t.wbg.__wbg_call_346669c262382ad7=function(){return T((function(e,t,n){return p(E(e).call(E(t),E(n)))}),arguments)},t.wbg.__wbindgen_throw=function(e,t){throw new Error(w(e,t))},("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return m=n.exports,M.__wbindgen_wasm_module=r,m}function O(){e.useEffect((()=>{M()}),[]);const d=e.useRef("print(2+5)"),[f,g]=e.useState(""),b=e.useRef(new Uint32Array),[h,_]=e.useState("");return e.useState(!0),e.createElement("div",{className:"dosis-font"},e.createElement(t,{padding:"2rem",height:"100vh"},e.createElement(n,{borderRadius:"xl",bg:"white",width:"container.lg",padding:"2rem",shadow:"2xl"},e.createElement(r,{gap:"10",templateColumns:"repeat(2, 1fr)"},e.createElement(n,{fontSize:"5xl",fontWeight:"bold"},"Koala.",e.createElement(o,{color:"gray.500"},"Ê• â€¢á´¥â€¢Ê”")),e.createElement(r,{gap:"10",templateRows:"repeat(2, 1fr)"},e.createElement(o,{fontSize:"lg",textAlign:"justify"},"A Simple Programming Language that runs on a Stack-based Virtual Machine all written in Rust ðŸ¦€."),e.createElement(t,null,e.createElement(a,null,e.createElement(l,{as:"a",href:"https://github.com/ndbaker1/koala",target:"_blank",leftIcon:e.createElement(i,null)},"Source Code"),e.createElement(l,{leftIcon:e.createElement(c,null),onClick:()=>{var e;null==(e=document.querySelector("#editor"))||e.scrollIntoView({behavior:"smooth"})}},"Try It Out"))))))),e.createElement(t,{id:"editor",padding:"2rem",height:"100vh"},e.createElement(n,{borderRadius:"xl",bg:"white",width:"container.lg",padding:"1rem",shadow:"2xl"},e.createElement(n,{paddingBottom:"1rem"},e.createElement(o,{fontSize:"xl"},"Write Koala"),e.createElement(s,{height:500,value:d.current,onChange:e=>{d.current=e||""},options:{fontFamily:'"Consolas"'}})),e.createElement(r,null,e.createElement(l,{onClick:()=>{var e;try{g(function(e){try{const a=m.__wbindgen_add_to_stack_pointer(-16);var t=F(e,m.__wbindgen_malloc,m.__wbindgen_realloc),n=S;m.parseAst(a,t,n);var r=L()[a/4+0],o=L()[a/4+1];return w(r,o)}finally{m.__wbindgen_add_to_stack_pointer(16),m.__wbindgen_free(r,o)}}(d.current)),b.current=B(d.current),C(b.current,_),null==(e=document.querySelector("#output"))||e.scrollIntoView({behavior:"smooth"})}catch(t){alert("encountered a not yet handled grammar error!")}}},"Run")))),e.createElement(t,{id:"output",padding:"2rem",height:"100vh"},e.createElement(n,{borderRadius:"md",bg:"white",width:"container.lg",padding:"1rem",shadow:"2xl"},e.createElement(r,{gridTemplateRows:"repeat(2,1fr)",height:500},e.createElement(n,null,e.createElement(o,{textAlign:"left",fontSize:"xl"},"Syntax Tree"),e.createElement("hr",null),e.createElement(n,{textAlign:"left",overflow:"auto",overscrollBehavior:"contain",height:350},e.createElement(u,{src:JSON.parse(f||"{}")})),e.createElement("hr",null)),e.createElement(n,{display:"flex",alignItems:"end"},e.createElement(o,{textAlign:"left",fontSize:"xl"},h?e.createElement(e.Fragment,null,"Koala ran your code:",e.createElement("br",null),"Â  Â  Â  Â  Â ðŸ’¬Â  ",h,e.createElement("br",null)):"","Ê• â€¢á´¥â€¢Ê”"))))))}class U{constructor(e,t){this.name=e,this.colors=t}setCurrent(){Object.entries(this.colors).forEach((([e,t])=>{document.documentElement.style.setProperty("--"+e,t)}))}static refresh(){j[0].setCurrent()}}const j=[new U("dark",{"bg-color":"#2B2D42","bg-gradient1":"#7332ba","bg-gradient2":"#573280","text-color":"#8D99AE","text-color-hover":"#D90429","button-text-color":"white","button-bg-color":"#EF233C","button-bg-color-hover":"#D90429"}),new U("beige-purple",{"bg-color":"#EFF8E2","bg-gradient1":"#EFF8E2","bg-gradient2":"#CECFC7","text-color":"#23022E","text-color-hover":"#573280","button-text-color":"#EFF8E2","button-bg-color":"#573280","button-bg-color-hover":"#23022E"})];j[0].setCurrent(),d.render(e.createElement(e.StrictMode,null,e.createElement(f,null,e.createElement(O,null))),document.getElementById("root"));
