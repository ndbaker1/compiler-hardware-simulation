import{R as e,a as t,i as n,b as r}from"./vendor.6926d26a.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let o,a=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});a.decode();let c=null;function l(){return null!==c&&c.buffer===o.memory.buffer||(c=new Uint8Array(o.memory.buffer)),c}function s(e,t){return a.decode(l().subarray(e,e+t))}const i=new Array(32).fill(void 0);i.push(void 0,null,!0,!1);let u=i.length;function m(e){u===i.length&&i.push(i.length+1);const t=u;return u=i[t],i[t]=e,t}function d(e){return i[e]}function f(e){const t=d(e);return function(e){e<36||(i[e]=u,u=e)}(e),t}let g=0,b=new TextEncoder("utf-8");const w="function"==typeof b.encodeInto?function(e,t){return b.encodeInto(e,t)}:function(e,t){const n=b.encode(e);return t.set(n),{read:e.length,written:n.length}};let p=null;function h(){return null!==p&&p.buffer===o.memory.buffer||(p=new Int32Array(o.memory.buffer)),p}function y(e){try{const c=o.__wbindgen_add_to_stack_pointer(-16);var t=function(e,t,n){if(void 0===n){const n=b.encode(e),r=t(n.length);return l().subarray(r,r+n.length).set(n),g=n.length,r}let r=e.length,o=t(r);const a=l();let c=0;for(;c<r;c++){const t=e.charCodeAt(c);if(t>127)break;a[o+c]=t}if(c!==r){0!==c&&(e=e.slice(c)),o=n(o,r,r=c+3*e.length);const t=l().subarray(o+c,o+r);c+=w(e,t).written}return g=c,o}(e,o.__wbindgen_malloc,o.__wbindgen_realloc),n=g;o.parseAst(c,t,n);var r=h()[c/4+0],a=h()[c/4+1];return s(r,a)}finally{o.__wbindgen_add_to_stack_pointer(16),o.__wbindgen_free(r,a)}}function E(e,t){try{return e.apply(this,t)}catch(n){o.__wbindgen_exn_store(m(n))}}async function _(e){void 0===e&&(e=new URL("/koala/assets/koala_wasm_bg.27b4be4c.wasm",window.location));const t={wbg:{}};t.wbg.__wbindgen_string_new=function(e,t){return m(s(e,t))},t.wbg.__wbindgen_object_drop_ref=function(e){f(e)},t.wbg.__wbg_call_346669c262382ad7=function(){return E((function(e,t,n){return m(d(e).call(d(t),d(n)))}),arguments)},t.wbg.__wbindgen_throw=function(e,t){throw new Error(s(e,t))},("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return o=n.exports,_.__wbindgen_wasm_module=r,o}function v(){e.useEffect((()=>{_()}),[]);const n=e.useRef(""),[r,o]=e.useState(""),a=e.useRef(new Uint32Array),c=()=>({codeRef:n,ast:[r,o],vmCodeRef:a});return e.createElement("div",{className:"max-w-screen-lg h-screen m-auto p-5 flex items-center justify-center"},e.createElement(t,{render:()=>e.createElement(t.Wrapper,null,e.createElement("div",{className:"section"},e.createElement(x,null)),e.createElement("div",{className:"section"},e.createElement(N,{env:c()})),e.createElement("div",{className:"section"},e.createElement(R,{env:c()})))}))}function x(){return e.createElement("div",{className:"w-full bg-white rounded-lg shadow-lg p-10"},e.createElement("div",{className:"grid gap-10 md:grid-cols-2 sm:grid-cols-1"},e.createElement("div",null,e.createElement("p",{className:"text-5xl"},"Koala.",e.createElement("br",null),e.createElement("p",{className:"text-gray-400"},e.createElement("b",null,"Ê• â€¢á´¥â€¢Ê”")))),e.createElement("div",{className:"grid grid-rows-2"},e.createElement("p",{className:"text-xl text-justify"},"A Simple Programming Language that runs on a Stack-based Virtual Machine all written in Rust ðŸ¦€."),e.createElement("div",{className:"flex items-center justify-center"},e.createElement("a",{className:"bg-gray-600 text-gray-100 rounded-lg p-3",href:"https://github.com/ndbaker1/koala",target:"_blank",rel:"noopener noreferrer"},"Github")))))}function N({env:t}){return e.createElement("div",{className:"max-w-screen-lg h-screen m-auto p-5 flex items-center justify-center"},e.createElement("div",{className:"w-full bg-white rounded-lg p-5"},e.createElement(n,{height:500,value:t.codeRef.current,onChange:e=>{t.codeRef.current=e||""}}),e.createElement("div",{className:"grid grid-cols-2"},e.createElement("button",{onClick:()=>{t.ast[1](y(t.codeRef.current))}},"Compile"),e.createElement("button",null,"Run"))))}function R({env:t}){return e.createElement("div",{className:"max-w-screen-lg h-screen m-auto p-5 flex items-center justify-center"},e.createElement("div",{className:"w-full bg-white rounded-lg p-5"},e.createElement(n,{height:500,value:t.ast[0],options:{readOnly:!0}})))}class A{constructor(e,t){this.name=e,this.colors=t}setCurrent(){Object.entries(this.colors).forEach((([e,t])=>{document.documentElement.style.setProperty("--"+e,t)}))}static refresh(){k[0].setCurrent()}}const k=[new A("dark",{"bg-color":"#2B2D42","bg-gradient1":"#7332ba","bg-gradient2":"#573280","text-color":"#8D99AE","text-color-hover":"#D90429","button-text-color":"white","button-bg-color":"#EF233C","button-bg-color-hover":"#D90429"}),new A("beige-purple",{"bg-color":"#EFF8E2","bg-gradient1":"#EFF8E2","bg-gradient2":"#CECFC7","text-color":"#23022E","text-color-hover":"#573280","button-text-color":"#EFF8E2","button-bg-color":"#573280","button-bg-color-hover":"#23022E"})];k[0].setCurrent(),r.render(e.createElement(e.StrictMode,null,e.createElement(v,null)),document.getElementById("root"));
