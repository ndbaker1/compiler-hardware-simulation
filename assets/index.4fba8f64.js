import{R as e,i as t,a as n}from"./vendor.3bd78b48.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let r,o=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});o.decode();let a=null;function c(){return null!==a&&a.buffer===r.memory.buffer||(a=new Uint8Array(r.memory.buffer)),a}function l(e,t){return o.decode(c().subarray(e,e+t))}const i=new Array(32).fill(void 0);i.push(void 0,null,!0,!1);let s=i.length;function u(e){s===i.length&&i.push(i.length+1);const t=s;return s=i[t],i[t]=e,t}function f(e){return i[e]}function d(e){const t=f(e);return function(e){e<36||(i[e]=s,s=e)}(e),t}let m=0,g=new TextEncoder("utf-8");const b="function"==typeof g.encodeInto?function(e,t){return g.encodeInto(e,t)}:function(e,t){const n=g.encode(e);return t.set(n),{read:e.length,written:n.length}};let w=null;function y(){return null!==w&&w.buffer===r.memory.buffer||(w=new Int32Array(r.memory.buffer)),w}function p(e){try{const i=r.__wbindgen_add_to_stack_pointer(-16);var t=function(e,t,n){if(void 0===n){const n=g.encode(e),r=t(n.length);return c().subarray(r,r+n.length).set(n),m=n.length,r}let r=e.length,o=t(r);const a=c();let l=0;for(;l<r;l++){const t=e.charCodeAt(l);if(t>127)break;a[o+l]=t}if(l!==r){0!==l&&(e=e.slice(l)),o=n(o,r,r=l+3*e.length);const t=c().subarray(o+l,o+r);l+=b(e,t).written}return m=l,o}(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=m;r.parseAst(i,t,n);var o=y()[i/4+0],a=y()[i/4+1];return l(o,a)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(o,a)}}function h(e,t){try{return e.apply(this,t)}catch(n){r.__wbindgen_exn_store(u(n))}}async function _(e){void 0===e&&(e=new URL("/koala/assets/koala_wasm_bg.27b4be4c.wasm",window.location));const t={wbg:{}};t.wbg.__wbindgen_string_new=function(e,t){return u(l(e,t))},t.wbg.__wbindgen_object_drop_ref=function(e){d(e)},t.wbg.__wbg_call_346669c262382ad7=function(){return h((function(e,t,n){return u(f(e).call(f(t),f(n)))}),arguments)},t.wbg.__wbindgen_throw=function(e,t){throw new Error(l(e,t))},("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:o}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return r=n.exports,_.__wbindgen_wasm_module=o,r}function E(){e.useEffect((()=>{_()}),[]);const t=e.useRef(""),[n,r]=e.useState(""),o=e.useRef(new Uint32Array),a=()=>({codeRef:t,ast:[n,r],vmCodeRef:o});return e.createElement(e.Fragment,null,e.createElement(v,null),e.createElement(x,{env:a()}),e.createElement(R,{env:a()}))}function v(){return e.createElement("div",{className:"max-w-screen-lg h-screen m-auto p-5 flex items-center justify-center"},e.createElement("div",{className:"w-full bg-white rounded-lg p-10 grid gap-10 md:grid-cols-2 sm:grid-cols-1"},e.createElement("div",null,e.createElement("p",{className:"text-5xl"},"Koala.",e.createElement("br",null),e.createElement("p",{className:"text-gray-400"},e.createElement("b",null,"Ê• â€¢á´¥â€¢Ê”")))),e.createElement("div",{className:"grid grid-rows-2"},e.createElement("p",{className:"text-xl text-justify"},"A Simple Programming Language that runs on a Stack-based Virtual Machine all written in Rust ðŸ¦€."),e.createElement("div",{className:"flex items-center justify-center"},e.createElement("a",{className:"bg-gray-600 text-gray-100 rounded-lg p-3",href:"https://github.com/ndbaker1/koala",target:"_blank",rel:"noopener noreferrer"},"Github")))))}function x({env:n}){return e.createElement("div",{className:"max-w-screen-lg h-screen m-auto p-5 flex items-center justify-center"},e.createElement("div",{className:"w-full bg-white rounded-lg p-5"},e.createElement(t,{height:500,value:n.codeRef.current,onChange:e=>{n.codeRef.current=e||""}}),e.createElement("div",{className:"grid grid-cols-2"},e.createElement("button",{onClick:()=>{n.ast[1](p(n.codeRef.current))}},"Compile"),e.createElement("button",null,"Run"))))}function R({env:n}){return e.createElement("div",{className:"max-w-screen-lg h-screen m-auto p-5 flex items-center justify-center"},e.createElement("div",{className:"w-full bg-gray-500 rounded-lg p-5"},e.createElement(t,{height:500,value:n.ast[0],options:{readOnly:!0}})))}class A{constructor(e,t){this.name=e,this.colors=t}setCurrent(){Object.entries(this.colors).forEach((([e,t])=>{document.documentElement.style.setProperty("--"+e,t)}))}static refresh(){N[0].setCurrent()}}const N=[new A("dark",{"bg-color":"#2B2D42","bg-gradient1":"#7332ba","bg-gradient2":"#573280","text-color":"#8D99AE","text-color-hover":"#D90429","button-text-color":"white","button-bg-color":"#EF233C","button-bg-color-hover":"#D90429"}),new A("beige-purple",{"bg-color":"#EFF8E2","bg-gradient1":"#EFF8E2","bg-gradient2":"#CECFC7","text-color":"#23022E","text-color-hover":"#573280","button-text-color":"#EFF8E2","button-bg-color":"#573280","button-bg-color-hover":"#23022E"})];N[0].setCurrent(),n.render(e.createElement(e.StrictMode,null,e.createElement(E,null)),document.getElementById("root"));
